<html><head><style>label,section{display:inline-block}.onoff,body{text-align:center}body{color:#fff;background-color:#b9d9fc}.lightStatus{margin-top:5px;color:#fff;font-size:14px;font-family:Verdana}.switch,p{font:400 20px/40px Arial;text-transform:uppercase;letter-spacing:1px}section{margin:0;padding:0;width:160px}input[type=checkbox]{display:block;opacity:0}label{width:60px;height:30px;cursor:pointer;position:relative;background:#8a0000;border-radius:30px;transition:background-color .4s;-moz-transition:background-color .4s;-webkit-transition:background-color .4s}label:after{left:0;width:20px;height:20px;margin:5px;content:'';position:absolute;background:#fff;border-radius:10px}input:checked+label{background:#007531}input:checked+label:after{left:auto;right:0}p{color:#bdbdbd;display:none}.switch{color:#000;margin:0}.onoff,.title{font-family:sans-serif}input:checked~p:nth-of-type(1){color:#007531;display:block}input:not(:checked)~p:nth-of-type(2){color:#8a0000;display:block}.wrapper svg{margin:48px auto}.wrap{min-height:10vh;max-width:720px;margin:0 auto;display:flex;flex-direction:row;align-items:center;justify-content:center}.wrap .half{width:25%;padding:12px 0;align-items:left;justify-content:left}.title{line-height:24px;display:block;padding:8px 0}.onoff{margin:auto;line-height:50px;padding:10px;display:inline-block}.slidecontainer{width:100%}.slidecontainer .general{-webkit-appearance:none;width:70%;height:29px;border-radius:100px;stroke-width:1;background:linear-gradient(to left,#fff 0,#000 100%);border:1px solid #fff;box-shadow:.4px .4px .4px #000031,0 0 .4px #00004b;outline:0;opacity:.7;-webkit-transition:.2s;transition:opacity .2s}.slidecontainer .general::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;border:3px solid #fff;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;fill:none;cursor:pointer}.slidecontainer .general::-moz-range-thumb{width:20px;height:20px;border-radius:50%;border:3px solid #fff;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;fill:none;cursor:pointer}</style><script>var wsc;document.addEventListener("DOMContentLoaded",function(){(wsc=new ReconnectingWebSocket("ws://"+window.location.hostname+":81")).timeoutInterval=3e3,wsc.onopen=function(e){console.log("WebSocketClient connected:",e)},wsc.onmessage=function(e,t,n){console.log("WebSocketClient message #${number}: ",e);var o=JSON.parse(e.data);"ON"==o.light1?document.getElementById("onoff1").checked=!0:document.getElementById("onoff1").checked=!1,"ON"==o.light2?document.getElementById("onoff2").checked=!0:document.getElementById("onoff2").checked=!1,"ON"==o.light3?document.getElementById("onoff3").checked=!0:document.getElementById("onoff3").checked=!1,"ON"==o.light4?document.getElementById("onoff4").checked=!0:document.getElementById("onoff4").checked=!1,"ON"==o.light5?document.getElementById("onoff5").checked=!0:document.getElementById("onoff5").checked=!1,"ON"==o.light6?document.getElementById("onoff6").checked=!0:document.getElementById("onoff6").checked=!1,"ON"==o.light7?document.getElementById("onoff7").checked=!0:document.getElementById("onoff7").checked=!1,"ON"==o.light8?document.getElementById("onoff8").checked=!0:document.getElementById("onoff8").checked=!1,document.getElementById("brightness1").value=Math.round(o.light1b/2.55),document.getElementById("br1").innerHTML=Math.round(ledstatus.light1b/2.55),document.getElementById("brightness2").value=Math.round(o.light2b/2.55),document.getElementById("br2").innerHTML=Math.round(ledstatus.light2b/2.55),document.getElementById("brightness3").value=Math.round(o.light3b/2.55),document.getElementById("br3").innerHTML=Math.round(ledstatus.light3b/2.55),document.getElementById("brightness4").value=Math.round(o.light4b/2.55),document.getElementById("br4").innerHTML=Math.round(ledstatus.light4b/2.55),document.getElementById("brightness5").value=Math.round(o.light5b/2.55),document.getElementById("br5").innerHTML=Math.round(ledstatus.light5b/2.55),document.getElementById("brightness6").value=Math.round(o.light6b/2.55),document.getElementById("br6").innerHTML=Math.round(ledstatus.light6b/2.55),document.getElementById("brightness7").value=Math.round(o.light7b/2.55),document.getElementById("br7").innerHTML=Math.round(ledstatus.light7b/2.55),document.getElementById("brightness8").value=Math.round(o.light8b/2.55),document.getElementById("br8").innerHTML=Math.round(ledstatus.light8b/2.55)},document.getElementById("onoff1").onchange=function(){var e;e=document.getElementById("onoff1").checked?{light:1,state:"ON"}:{light:1,state:"OFF"},wsc.send(JSON.stringify(e))},document.getElementById("brightness1").onchange=function(e){document.getElementById("br1").innerHTML=e.target.value;var t={light:1,state:"ON",brightness:Math.round(Number(2.55*e.target.value))};wsc.send(JSON.stringify(t))},document.getElementById("onoff2").onchange=function(){var e;e=document.getElementById("onoff2").checked?{light:2,state:"ON"}:{light:2,state:"OFF"},wsc.send(JSON.stringify(e))},document.getElementById("brightness2").onchange=function(e){document.getElementById("br2").innerHTML=e.target.value;var t={light:2,state:"ON",brightness:Math.round(Number(2.55*e.target.value))};wsc.send(JSON.stringify(t))},document.getElementById("onoff3").onchange=function(){var e;e=document.getElementById("onoff3").checked?{light:3,state:"ON"}:{light:3,state:"OFF"},wsc.send(JSON.stringify(e))},document.getElementById("brightness3").onchange=function(e){document.getElementById("br3").innerHTML=e.target.value;var t={light:3,state:"ON",brightness:Math.round(Number(2.55*e.target.value))};wsc.send(JSON.stringify(t))},document.getElementById("onoff4").onchange=function(){var e;e=document.getElementById("onoff4").checked?{light:4,state:"ON"}:{light:4,state:"OFF"},wsc.send(JSON.stringify(e))},document.getElementById("brightness4").onchange=function(e){document.getElementById("br4").innerHTML=e.target.value;var t={light:4,state:"ON",brightness:Math.round(Number(2.55*e.target.value))};wsc.send(JSON.stringify(t))},document.getElementById("onoff5").onchange=function(){var e;e=document.getElementById("onoff5").checked?{light:5,state:"ON"}:{light:5,state:"OFF"},wsc.send(JSON.stringify(e))},document.getElementById("brightness5").onchange=function(e){document.getElementById("br5").innerHTML=e.target.value;var t={light:5,state:"ON",brightness:Math.round(Number(2.55*e.target.value))};wsc.send(JSON.stringify(t))},document.getElementById("onoff6").onchange=function(){var e;e=document.getElementById("onoff6").checked?{light:6,state:"ON"}:{light:6,state:"OFF"},wsc.send(JSON.stringify(e))},document.getElementById("brightness6").onchange=function(e){document.getElementById("br6").innerHTML=e.target.value;var t={light:6,state:"ON",brightness:Math.round(Number(2.55*e.target.value))};wsc.send(JSON.stringify(t))},document.getElementById("onoff7").onchange=function(){var e;e=document.getElementById("onoff7").checked?{light:7,state:"ON"}:{light:7,state:"OFF"},wsc.send(JSON.stringify(e))},document.getElementById("brightness7").onchange=function(e){document.getElementById("br7").innerHTML=e.target.value;var t={light:7,state:"ON",brightness:Math.round(Number(2.55*e.target.value))};wsc.send(JSON.stringify(t))},document.getElementById("onoff8").onchange=function(){var e;e=document.getElementById("onoff8").checked?{light:8,state:"ON"}:{light:8,state:"OFF"},wsc.send(JSON.stringify(e))},document.getElementById("brightness8").onchange=function(e){document.getElementById("br8").innerHTML=e.target.value;var t={light:8,state:"ON",brightness:Math.round(Number(2.55*e.target.value))};wsc.send(JSON.stringify(t))}})</script><script>!function(e,n){"function"==typeof define&&define.amd?define([],n):"undefined"!=typeof module&&module.exports?module.exports=n():e.ReconnectingWebSocket=n()}(this,function(){function e(n,t,o){function c(e,n){var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,n),t}var i={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3};o||(o={});for(var r in i)this[r]="undefined"!=typeof o[r]?o[r]:i[r];this.url=n,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var s,u=this,d=!1,a=!1,l=document.createElement("div");l.addEventListener("open",function(e){u.onopen(e)}),l.addEventListener("close",function(e){u.onclose(e)}),l.addEventListener("connecting",function(e){u.onconnecting(e)}),l.addEventListener("message",function(e){u.onmessage(e)}),l.addEventListener("error",function(e){u.onerror(e)}),this.addEventListener=l.addEventListener.bind(l),this.removeEventListener=l.removeEventListener.bind(l),this.dispatchEvent=l.dispatchEvent.bind(l),this.open=function(n){s=new WebSocket(u.url,t||[]),n||l.dispatchEvent(c("connecting")),(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",u.url);var o=s,i=setTimeout(function(){(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",u.url),a=!0,o.close(),a=!1},u.timeoutInterval);s.onopen=function(){clearTimeout(i),(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onopen",u.url),u.protocol=s.protocol,u.readyState=WebSocket.OPEN,u.reconnectAttempts=0;var t=c("open");t.isReconnect=n,n=!1,l.dispatchEvent(t)},s.onclose=function(t){if(clearTimeout(i),s=null,d)u.readyState=WebSocket.CLOSED,l.dispatchEvent(c("close"));else{u.readyState=WebSocket.CONNECTING;var o=c("connecting");o.code=t.code,o.reason=t.reason,o.wasClean=t.wasClean,l.dispatchEvent(o),n||a||((u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onclose",u.url),l.dispatchEvent(c("close")));var i=u.reconnectInterval*Math.pow(u.reconnectDecay,u.reconnectAttempts);setTimeout(function(){u.reconnectAttempts++,u.open(!0)},i>u.maxReconnectInterval?u.maxReconnectInterval:i)}},s.onmessage=function(n){(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",u.url,n.data);var t=c("message");t.data=n.data,l.dispatchEvent(t)},s.onerror=function(n){(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onerror",u.url,n),l.dispatchEvent(c("error"))}},1==this.automaticOpen&&this.open(!1),this.send=function(n){if(s)return(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","send",u.url,n),s.send(n);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,n){"undefined"==typeof e&&(e=1e3),d=!0,s&&s.close(e,n)},this.refresh=function(){s&&s.close()}}return e.prototype.onopen=function(){},e.prototype.onclose=function(){},e.prototype.onconnecting=function(){},e.prototype.onmessage=function(){},e.prototype.onerror=function(){},e.debugAll=!1,e.CONNECTING=WebSocket.CONNECTING,e.OPEN=WebSocket.OPEN,e.CLOSING=WebSocket.CLOSING,e.CLOSED=WebSocket.CLOSED,e})</script></head><body><h1 class="lightStatus"></h1><div class="wrap"><div class="half"><section><h4 class="switch">Light 1</h4><input type="checkbox" id="onoff1" class="onoff"><label for="onoff1"></label><p>ON</p><p>OFF</p></section><div class="slidecontainer"><span class="title">Brightness: <span id="br1"></span>%</span> <input type="range" min="0" max="100" class="general" id="brightness1"></div></div><div class="half"><section><h4 class="switch">Light 2</h4><input type="checkbox" id="onoff2" class="onoff"><label for="onoff2"></label><p>ON</p><p>OFF</p></section><div class="slidecontainer"><span class="title">Brightness: <span id="br2"></span>%</span> <input type="range" min="0" max="100" class="general" id="brightness2"></div></div><div class="half"><section><h4 class="switch">Light 3</h4><input type="checkbox" id="onoff3" class="onoff"><label for="onoff3"></label><p>ON</p><p>OFF</p></section><div class="slidecontainer"><span class="title">Brightness: <span id="br3"></span>%</span> <input type="range" min="0" max="100" class="general" id="brightness3"></div></div><div class="half"><section><h4 class="switch">Light 4</h4><input type="checkbox" id="onoff4" class="onoff"><label for="onoff4"></label><p>ON</p><p>OFF</p></section><div class="slidecontainer"><span class="title">Brightness: <span id="br4"></span>%</span> <input type="range" min="0" max="100" class="general" id="brightness4"></div></div></div><div class="wrap"><div class="half"><section><h4 class="switch">Light 5</h4><input type="checkbox" id="onoff5" class="onoff"><label for="onoff5"></label><p>ON</p><p>OFF</p></section><div class="slidecontainer"><span class="title">Brightness: <span id="br5"></span>%</span> <input type="range" min="0" max="100" class="general" id="brightness5"></div></div><div class="half"><section><h4 class="switch">Light 6</h4><input type="checkbox" id="onoff6" class="onoff"><label for="onoff6"></label><p>ON</p><p>OFF</p></section><div class="slidecontainer"><span class="title">Brightness: <span id="br6"></span>%</span> <input type="range" min="0" max="100" class="general" id="brightness6"></div></div><div class="half"><section><h4 class="switch">Light 7</h4><input type="checkbox" id="onoff7" class="onoff"><label for="onoff7"></label><p>ON</p><p>OFF</p></section><div class="slidecontainer"><span class="title">Brightness: <span id="br7"></span>%</span> <input type="range" min="0" max="100" class="general" id="brightness7"></div></div><div class="half"><section><h4 class="switch">Light 8</h4><input type="checkbox" id="onoff8" class="onoff"><label for="onoff8"></label><p>ON</p><p>OFF</p></section><div class="slidecontainer"><span class="title">Brightness: <span id="br8"></span>%</span> <input type="range" min="0" max="100" class="general" id="brightness8"></div></div></div></body></html>